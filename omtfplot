#!/usr/bin/env python3
# -*- coding: utf-8 -*- 

import sys
import os
import platform
import argparse

from nn4omtf.utils import OMTFPlotter


desc="""
Command line tools for ploting data from nn4omtf framework. 
"""


if __name__ == "__main__":
    parser = argparse.ArgumentParser(description=desc)
    parser.add_argument("files", nargs="+", help="Plot data from `*.npz` files")
    parser.add_argument("-o", "--output", metavar="PATH", default=".",
            help="Output directory (default: '.')")
    parser.add_argument("-p", "--prefix", metavar="PREF", default="",
            help="Prefix for generated files.")

    FLAGS, unparsed = parser.parse_known_args()

    for f in FLAGS.files:
        print("Plotting: %s" % f)
        plt = OMTFPlotter.from_npz(f)
        plt.plot(FLAGS.output, prefix=FLAGS.prefix)
